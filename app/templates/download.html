{% extends "base.html" %}

{% block title %}文件分享 - tgState{% endblock %}

{% block content %}
<div style="display: flex; align-items: center; justify-content: center; min-height: 60vh;">
    <div class="card" style="width: 100%; max-width: 600px; padding: 32px;">
        <div style="text-align: center; margin-bottom: 32px;">
            <div style="width: 64px; height: 64px; background: var(--bg-surface-hover); border-radius: 16px; display: inline-flex; align-items: center; justify-content: center; margin-bottom: 24px; color: var(--primary-color);">
                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
            </div>
            <h1 style="font-size: 20px; font-weight: 700; margin-bottom: 8px; word-break: break-all;">{{ file.filename }}</h1>
            <p style="color: var(--text-secondary); font-size: 14px;">
                {{ "%.2f" | format(file.filesize / (1024*1024)) }} MB · {{ file.upload_date.split(' ')[0] }}
            </p>
            <div style="margin-top: 24px;">
                <a href="{{ file.file_url }}" class="btn btn-primary" style="padding: 0 32px;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    立即下载
                </a>
            </div>
        </div>

        <div style="border-top: 1px solid var(--border-color); padding-top: 24px;">
            <div class="input-group">
                <label class="input-label">下载直链</label>
                <div style="display: flex; gap: 8px;">
                    <input type="text" class="input-field" value="{{ file.file_url }}" readonly>
                    <button class="btn btn-secondary" onclick="Utils.copy('{{ file.file_url }}')">复制</button>
                </div>
            </div>
            
            <div class="input-group">
                <label class="input-label">Markdown 引用</label>
                <div style="display: flex; gap: 8px;">
                    <input type="text" class="input-field" value="{{ file.markdown_code }}" readonly>
                    <button class="btn btn-secondary" onclick="Utils.copy('{{ file.markdown_code | replace("'", "\\'") }}')">复制</button>
                </div>
            </div>
            
            <div class="input-group" style="margin-bottom: 0;">
                <label class="input-label">HTML 引用</label>
                <div style="display: flex; gap: 8px;">
                    <input type="text" class="input-field" value="{{ file.html_code }}" readonly>
                    <button class="btn btn-secondary" onclick="Utils.copy('{{ file.html_code | replace("'", "\\'") }}')">复制</button>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
